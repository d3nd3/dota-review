/* Fonts: Cinzel (titles), Inter (UI) */
:root{--bg:#0b0e11;--bg-elev:#111315;--panel:#15191e;--text:#e7ecf1;--muted:#9aa7b2;--brand:#cf2e2e;--brand-2:#f0b90b;--accent:#2e6ac7;--ok:#2ea043;--border:#232a32;--shadow:0 8px 30px rgba(0,0,0,.45);--radius:14px;--radius-sm:10px}
*{box-sizing:border-box}html,body{height:100%}body{margin:0;background:radial-gradient(1200px 800px at 15% -10%,rgba(207,46,46,.18),transparent 60%),radial-gradient(900px 700px at 100% 0,rgba(240,185,11,.12),transparent 55%),linear-gradient(180deg,#0a0d10,#0b0e11);color:var(--text);font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif}

.app-header{position:sticky;top:0;z-index:10;display:flex;align-items:center;gap:16px;padding:12px 20px;background:linear-gradient(180deg,rgba(11,13,17,.9),rgba(11,13,17,.7));backdrop-filter:blur(10px);border-bottom:1px solid var(--border)}
.brand{display:flex;align-items:center;gap:10px}
.brand-mark{font-size:22px;color:var(--brand-2)}
.brand-title{font-family:Cinzel,serif;font-weight:800;letter-spacing:.5px;margin:0;font-size:20px}
.match-controls{display:flex;align-items:center;gap:8px}
.match-hero{display:flex;align-items:center;gap:8px;margin-left:12px}
.match-hero-select{height:36px;padding:0 12px;background:var(--panel);border:1px solid var(--border);border-radius:10px;color:var(--text);min-width:160px;max-width:200px}
.match-hero-portrait{display:flex;align-items:center;margin-left:8px}
.match-hero-portrait img{width:32px;height:32px;border-radius:6px;border:1px solid var(--border)}
.match-input{height:36px;padding:0 12px;background:var(--panel);border:1px solid var(--border);border-radius:10px;color:var(--text);outline:none;min-width:170px}
.btn{height:36px;padding:0 14px;border-radius:10px;border:1px solid var(--border);background:var(--panel);color:var(--text);cursor:pointer;box-shadow:none} .btn:hover{border-color:#2b323c}
.btn.primary{background:linear-gradient(180deg,#cf2e2e,#a01c1c);border-color:#a01c1c}
.btn.subtle{background:transparent}
.btn.small{height:30px;padding:0 10px}
.spacer{flex:1}
.mode-controls{display:flex;align-items:center;gap:10px}
.switch{position:relative;width:48px;height:28px;display:inline-block}
.switch input{opacity:0;width:0;height:0}
.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background:#2a2f36;border-radius:28px;border:1px solid var(--border);transition:.2s}
.slider:before{content:"";position:absolute;height:22px;width:22px;left:3px;top:2px;background:white;border-radius:50%;transition:.2s}
.switch input:checked + .slider{background:#284d1e;border-color:#2e6a2d}
.switch input:checked + .slider:before{transform:translateX(20px);background:#8df180}
.switch-label{font-size:13px;color:var(--muted)}

.app-main{padding:18px 18px 90px;max-width:1200px;margin:0 auto}
.toolbar{display:flex;flex-wrap:wrap;align-items:center;gap:14px;margin-bottom:14px}
.rating{display:flex;align-items:center;gap:10px;background:var(--bg-elev);border:1px solid var(--border);padding:10px 12px;border-radius:12px}
.rating label{font-weight:600;color:var(--muted)}
.rating input[type=range]{accent-color:var(--brand);width:180px}
.rating output{display:inline-block;min-width:28px;text-align:center;font-weight:800;color:#fff;background:#1a1f24;border:1px solid var(--border);border-radius:8px;padding:4px 8px}
.tools{display:flex;align-items:center;gap:10px}
.gh-panel{border:1px solid var(--border);border-radius:12px;padding:6px 10px;background:var(--bg-elev)}
.gh-panel summary{cursor:pointer;color:var(--muted)}
.gh-grid{display:grid;grid-template-columns:repeat(4,minmax(120px,1fr)) auto;gap:8px;margin-top:8px}
.gh-grid input{height:32px;padding:0 10px;background:#0e1216;border:1px solid var(--border);border-radius:8px;color:var(--text)}
.save-opt{grid-column:5 / span 1;align-self:center;color:var(--muted);font-size:13px}
.save-opt input{margin-right:6px}

.viewer{background:var(--bg-elev);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden}
.slide{display:grid;grid-template-columns:1.3fr .8fr;gap:0}
.image-wrap{position:relative;background:#0c1014;min-height:440px;display:flex;align-items:center;justify-content:center}
.image-wrap img{max-width:100%;max-height:70vh;border-radius:6px;box-shadow:0 10px 40px rgba(0,0,0,.5)}
.image-wrap.drag{outline:2px dashed #3a8cff; outline-offset:-8px}
.nav{position:absolute;top:0;bottom:0;width:60px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:34px;opacity:.0;transition:.15s;background:linear-gradient(90deg,rgba(0,0,0,.0),rgba(0,0,0,.25));cursor:pointer}
.nav:hover{opacity:.9}
.nav.prev{left:0;transform:scaleX(-1)}
.nav.next{right:0}
.paste-hint{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none}
.paste-card{pointer-events:auto;background:rgba(16,20,24,.76);border:1px dashed #3a444f;border-radius:14px;padding:18px 22px;text-align:center;backdrop-filter:blur(4px);color:var(--muted)}
.paste-title{font-weight:800;letter-spacing:.4px;color:#d7dee6}
.paste-sub{font-size:13px;margin-top:6px}

.notes{background:#0e1216;border-left:1px solid var(--border);padding:14px}
.notes-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
.notes h2{font-family:Cinzel,serif;font-weight:700;letter-spacing:.3px;margin:0;font-size:18px}
.hero-row{display:flex;align-items:center;gap:8px;margin:8px 0}
.hero-row label{color:var(--muted);font-size:13px}
.hero-input{flex:1;height:32px;padding:0 10px;background:#0b0f13;border:1px solid var(--border);border-radius:10px;color:var(--text)}
.notes-list{margin:0;padding:0;list-style:none;display:flex;flex-direction:column;gap:8px;max-height:60vh;overflow:auto}
.notes-list li{background:#0b0f13;border:1px solid var(--border);border-radius:10px;padding:10px 12px;display:flex;align-items:flex-start;gap:10px}
.notes-list li .bullet{color:var(--brand-2)}
.notes-list li .bullet.positive{color:var(--ok)}
.notes-list li .bullet.negative{color:#c94b4b}
.notes-list li .bullet.neutral{color:var(--brand-2)}
.notes-list li .text{flex:1}
.notes-list li .del{background:transparent;border:1px solid #2a323a;color:#cdd6df;border-radius:8px;height:28px;padding:0 8px;cursor:pointer}
.note-input-row{display:flex;gap:8px;margin-top:10px}
.note-input{flex:1;height:36px;padding:0 10px;background:#0b0f13;border:1px solid var(--border);border-radius:10px;color:var(--text)}

.sentiment-controls{display:flex;align-items:center;gap:6px;margin-right:6px}
.sent-btn{display:inline-flex;align-items:center;justify-content:center;border-radius:8px;padding:6px;background:transparent;border:1px solid var(--border);cursor:pointer}
.sent-btn input{display:none}
.sent-btn span{font-size:16px;display:inline-flex;align-items:center;justify-content:center;padding:4px;border-radius:6px}
/* make checked state clearly visible */
.sent-btn input:checked + span{background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.06);box-shadow:0 0 0 3px rgba(0,0,0,0.35) inset}
.sent-btn:hover span{background:rgba(255,255,255,0.02)}

/* sentiment emoji in notes list */
.sentiment{cursor:pointer;user-select:none;margin-left:6px;font-size:16px;align-self:center}

.empty-state{display:flex;align-items:center;justify-content:center;min-height:360px}
.empty-card{background:#0e1216;border:1px dashed #2a323a;border-radius:14px;padding:20px 24px;text-align:center;color:var(--muted)}
.empty-title{color:#e1e7ee;font-weight:800}
.empty-sub{margin-top:4px;margin-bottom:8px}

.filmstrip{position:fixed;left:0;right:0;bottom:0;z-index:20;display:flex;gap:8px;overflow:auto;padding:10px;background:linear-gradient(180deg,#0d1115,#0b0e11);border-top:1px solid var(--border)}
.thumb{position:relative;flex:0 0 auto;width:120px;height:72px;background:#0e1216;border:1px solid var(--border);border-radius:10px;display:flex;align-items:center;justify-content:center;cursor:pointer}
.thumb img{max-width:100%;max-height:100%;border-radius:8px}
.thumb .index{position:absolute;top:6px;left:6px;background:rgba(0,0,0,.6);border:1px solid #2a323a;border-radius:8px;padding:2px 6px;font-size:12px}
.thumb.active{outline:2px solid var(--brand)}

.dialog{border:none;border-radius:14px;padding:16px 18px;background:#0e1216;color:var(--text);border:1px solid var(--border);box-shadow:var(--shadow);max-width:560px}
.dialog::backdrop{background:rgba(0,0,0,.5)}
.dialog.welcome h2{margin-top:0}
.welcome-actions{display:flex;gap:10px;justify-content:flex-end;margin-top:12px}

.toast-container{position:fixed;right:14px;bottom:110px;display:flex;flex-direction:column;gap:8px;z-index:30}
.toast{background:#1b2229;color:#f1f5f9;border:1px solid #34414f;border-radius:10px;padding:10px 12px;box-shadow:var(--shadow);max-width:360px}
.toast.error{border-color:#6b2323;background:#201214}
.published-list{display:flex;flex-direction:column;gap:8px;max-height:240px;overflow:auto;margin-top:10px}
.published-item{display:flex;gap:10px;align-items:center;padding:8px;border-radius:8px;background:#0c1014;border:1px solid var(--border);cursor:pointer}
.published-item button{margin-left:auto}
.published-item .pub-thumb{width:56px;height:36px;object-fit:cover;border-radius:6px}
.published-item .pub-meta{display:flex;flex-direction:column}
.pub-title{font-weight:700}
.pub-sub{font-size:12px;color:var(--muted)}
.empty-published{color:var(--muted);padding:10px}

@media (max-width: 900px){
  .slide{grid-template-columns:1fr}
  .image-wrap img{max-height:48vh}
  .notes-list{max-height:34vh}
}


